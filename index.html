<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formato Único para Atención de P0 de XMNS y Convertidor</title>
    <style>
            .imagen-pequena {
            width: 50%;
        }
</style>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0 15px;
            line-height: 1.6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            vertical-align: top;
        }
        th {
            background-color: #f2f2f2;
        }
        select, textarea {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            resize: none;
            overflow: hidden;
            min-height: 50px;
            transition: height 0.2s;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            margin-top: 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        .header-table {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header-table img {
            max-width: 30%;
            height: auto;
        }
        .header-table div {
            text-align: center;
            flex: 1;
            padding: 0 5px;
        }
        @media screen and (max-width: 768px) {
            table, thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                display: none;
            }
            tr {
                margin-bottom: 15px;
                border-bottom: 2px solid #ddd;
            }
            td {
                border: none;
                padding: 10px 10px;
                position: relative;
                padding-left: 50%;
                text-align: left;
            }
            td:before {
                content: attr(data-label);
                position: absolute;
                left: 10px;
                width: calc(50% - 20px);
                padding-right: 10px;
                font-weight: bold;
            }
            .header-table {
                flex-direction: row;
                text-align: center;
            }
            .header-table img {
                max-width: 50%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <!-- Encabezado con logotipos y títulos -->
    <div class="header-table">
        <img src="https://i.postimg.cc/x8D3wZ33/Cerrejon.png" alt="Logo de Cerrejón" />
        <div>
            <img src="https://i.postimg.cc/7h3nwNB8/Safe-work-LOGO.png" alt="SAFE WORK Glencore" />
        </div>
        <img src="https://i.postimg.cc/zDKjCJqt/Truck-LOGO.jpg" alt="Camion 793D" />
    </div>

    <!-- Fecha y Hora -->
    <div>
        <p><strong>Fecha:</strong> <span id="fecha"></span> 
        <strong>Hora:</strong> <span id="hora"></span></p>
    </div>
<table>
    <tr>
        <td><label for="modelo">Modelo:</label></td>
        <td><input type="text" id="modelo" name="modelo" placeholder="Ingrese el modelo"></td>
    </tr>
    <tr>
        <td><label for="equipo">Equipo:</label></td>
        <td><input type="text" id="equipo" name="equipo" placeholder="Ingrese el equipo"></td>
    </tr>
    <tr>
        <td><label for="falla">Falla:</label></td>
        <td><input type="text" id="falla" name="falla" placeholder="Describa la falla"></td>
    </tr>
    <tr>
        <td><label for="nombre-ejecutor">Nombre del ejecutor:</label></td>
        <td><input type="text" id="nombre-ejecutor" name="nombre-ejecutor" placeholder="Ingrese el nombre del ejecutor"></td>
    </tr>
</table>
    <script>
        // Función para obtener la fecha y hora actual y actualizarla cada segundo
        function actualizarFechaHora() {
            var fechaActual = new Date();
            var dia = fechaActual.getDate();
            var mes = fechaActual.getMonth() + 1;
            var anio = fechaActual.getFullYear();
            var hora = fechaActual.getHours();
            var minutos = fechaActual.getMinutes();
            var segundos = fechaActual.getSeconds();

            dia = dia < 10 ? "0" + dia : dia;
            mes = mes < 10 ? "0" + mes : mes;
            hora = hora < 10 ? "0" + hora : hora;
            minutos = minutos < 10 ? "0" + minutos : minutos;
            segundos = segundos < 10 ? "0" + segundos : segundos;

            document.getElementById("fecha").innerHTML = dia + "/" + mes + "/" + anio;
            document.getElementById("hora").innerHTML = hora + ":" + minutos + ":" + segundos;

            setTimeout(actualizarFechaHora, 1000);
        }

        actualizarFechaHora();
    </script>
<h2>FASE 1</h2>
    <!-- Título y Descripción -->
    <div class="header-table">
        <tr>
            <td style="text-align: left;"><h4>FORMATO ÚNICO PARA ATENCIÓN DE P0 DE XMNS Y CONVERTIDOR</h4></td>
            <td style="text-align: left;"><p>Versión 000 / Agosto 2024</p></td>
        </tr>
    </div>

    
    <h3>PASO A PASO PARA EL DIAGNÓSTICO POR BAJO NIVEL:</h3>
    <table>
        <thead>
            <tr>
                <th>Item</th>
                <th>Tarea / Actividad</th>
                <th>Descripción</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Item">1</td>
                <td data-label="Tarea / Actividad">Inspección de nivel</td>
                <td data-label="Descripción">Inspeccione el nivel de aceite de XMNS y TC. Recuerde que los niveles dependen de la temperatura del aceite según documento CAT (SEBU7792-28). Informe hallazgos encontrados.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">2</td>
                <td data-label="Tarea / Actividad">Revisión de líneas</td>
                <td data-label="Descripción">Inspección de líneas de BB TC & XMNS, líneas de carga, filtros, entrada y salida de XMNS, enfriamiento, inspeccionar respiraderos. Informe hallazgos encontrados.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">3</td>
                <td data-label="Tarea / Actividad">Inspección de Yoke</td>
                <td data-label="Descripción">Inspeccione el estado del Yoke de XMNS por juego y estado del sello. Informe hallazgos encontrados.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">4</td>
                <td data-label="Tarea / Actividad">Revisión de Transmisión</td>
                <td data-label="Descripción">Revisión por fuga en tapa de XMNS, acople de DIFE, acople del transfer, VV, sensor de nivel, harness de XMNS. Informe hallazgos encontrados.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
               <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">5</td>
                <td data-label="Tarea / Actividad">Revisión de Transfer</td>
                <td data-label="Descripción">Revisar juego en el eje, fugas por sello del Yoke, fugas entre transfer y XMNS, fugas tapa de transfer. Informe hallazgos encontrados.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">6</td>
                <td data-label="Tarea / Actividad">Evaluar BB de TC</td>
                <td data-label="Descripción">En caso de no encontrar fugas, evalúe el desempeño de la BB de convertidor por posible falla.</td>
                <td data-label="Estado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="4"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
        </tbody>
    </table>

    <p>** Compruebe el nivel de aceite en el sumidero del convertidor:</p>
    <ul>
        <li>a. Si el aceite de convertidor de par está frío, use la mirilla inferior (3) para comprobar el nivel de aceite.</li>
        <li>b. Si el aceite del convertidor se encuentra en temperatura de operación, use la mirilla superior (2) para comprobar el nivel de aceite.</li>
    </ul>
    <img src="https://i.postimg.cc/FRmSGSqr/MIrrilla-del-convertidor.png" alt="Mirilla del convertidor" />
<h2>FASE 1</h2>
    <h3>PASO A PASO PARA EL DIAGNÓSTICO POR ENTRADA DE TIERRA Y ALTOS METALES:</h3>
    <p>Repita los pasos del 1 al 5.</p>
    <table>
        <thead>
            <tr>
                <th>Item</th>
                <th>Tarea / Actividad</th>
                <th>Descripción</th>
                <th>Referencia</th>
                <th>Realizado</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Item">7</td>
                <td data-label="Tarea / Actividad">Inspección de Screen de transmisión</td>
                <td data-label="Descripción">Revise screen magnético. Informe hallazgos encontrados. <br>
                - Partículas de caucho: Falla de sello, falla de manguera. <br>
                - Partículas fibras negras: Desgaste de embragues. <br>
                - Partículas hierro o acero: Componentes internos y/o engranajes. <br>
                - Partículas aluminio: Pistón de carga, pistones de vv de control.</td>
                <td data-label="Referencia"><a href="https://postimg.cc/yJYkKm40" target="_blank"><img src="https://i.postimg.cc/yJYkKm40/Revision-de-screens.png" alt="Revision-de-screens"/></a></td>
                <td data-label="Realizado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="5"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">8</td>
                <td data-label="Tarea / Actividad">Inspección de Screen de convertidor</td>
                <td data-label="Descripción">Revise screen magnético. Informe hallazgos encontrados. <br>
                - Partículas de caucho: Falla sección 5 BB de carga de TC. <br>
                - Partículas aluminio: Falla mecánica convertidor de par. <br>
                - Partículas fibras negras: Desgaste de embrague de traba de convertidor.</td>
                <td data-label="Referencia"><img src="https://i.postimg.cc/MpCVMNmj/Rejilla-convertidor.jpg" alt="Rejilla de convertidor" /></td>
                <td data-label="Realizado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="5"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">9</td>
                <td data-label="Tarea / Actividad">Inspección por posible falla en BB</td>
                <td data-label="Descripción">Si se drenan más de 76 L (20 gal) de aceite: <br>
                - Falla de sección de BB de barrido de XMNS. <br>
                - Restricción en las rejillas magnéticas de la transmisión. <br>
                - Demasiadas fugas en embragues de XMNS.</td>
                <td data-label="Referencia"><img src="https://i.postimg.cc/7YQgDfC9/Conjunto-de-BB-TC.jpg" alt="Conjunto de BB TC" /></td>
                <td data-label="Realizado">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
               <td colspan="5"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">10</td>
                <td data-label="Tarea / Actividad">Revisión de presiones básicas</td>
                <td data-label="Descripción">Asegure que las rejillas y filtros estén limpios antes de comprobar las presiones. Asegúrese que la temperatura del aceite sea la adecuada antes de tomar las presiones.</td>
                <td data-label="Referencia">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="5"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
            <tr>
                <td data-label="Item">11</td>
                <td data-label="Tarea / Actividad">Revisión de presiones primarias</td>
                <td data-label="Descripción">Asegure que las rejillas y filtros estén limpios antes de comprobar las presiones. Asegúrese que la temperatura del aceite sea la adecuada antes de tomar las presiones.<br>
                Nota: Los siguientes tres pasos se deben realizar en orden. Aunque solo sea necesario realizar uno de los pasos, los tres pasos se deben completar en el orden siguiente. <br>
                1. Revise la presión (AA) de la sección de la bomba de carga de la transmisión en mando del convertidor de par. <br>
                2. Revise la presión (EE) en el riel de suministro del embrague en mando directo. <br>
                3. Revise la presión (DD) de la sección de la bomba de carga de la transmisión.</td>
                <td data-label="Referencia">
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="5"><textarea placeholder="Añadir comentarios..."></textarea></td>
            </tr>
        </tbody>
    </table>

    <p>En todos los casos anteriores por contaminación, se debe cambiar aceite y filtros de TC y XMNS.</p>

    <p>*** Inspección (corte) de elemento filtrante de XMNS y TC.</p>
    <p>Inspeccione el elemento filtrante de aceite de convertidor y valide si contiene partículas y de qué tipo son dichas partículas (metales, cauchos, fibras, celulosa, etc).</p>
    <table>
        <tr>
            <td><img src="https://i.postimg.cc/6p2CQtnX/Inspeccion-de-filtor.png" alt="Inspección de filtro" /></td>
            <td><img src="https://i.postimg.cc/xj5vxsnW/Posicion-filtro-CONV.jpg" alt="Posición filtro CONV" /></td>
        </tr>
    </table>

    <p><strong>NOTA:</strong> Si se requiere traslado de equipo a taller, asegúrese que todas las condiciones estén dadas y que se realice el procedimiento de remolque de forma adecuada.</p>

       <!-- Script para generar PDF -->
    <h4>CARGAR EVIDENCIAS </h4>
<input type="file" id="foto" name="foto"><br><br>

<img id="foto-cargada" class="imagen-pequena"><br><br>

      <h4>COMPARTIR EN PDF</h4>
<input type="button" value="Compartir" onclick="window.print()">
</form>

 <script>
      const inputFoto = document.querySelector('#foto');
      const imgFoto = document.querySelector('#foto-cargada');

      inputFoto.addEventListener('change', () => {
        const file = inputFoto.files[0];
        const reader = new FileReader();
        reader.onload = (event) => {
          imgFoto.src = event.target.result;
        };
        reader.readAsDataURL(file);
      });
</script>
<script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1/dist/es-module-shims.min.js" crossorigin="anonymous"></script>
    <script type="importmap">
    {
      "imports": {
        "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/esm/popper.min.js",
        "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.esm.min.js"
      }
    }
    </script>
    <script type="module">
      import * as bootstrap from 'bootstrap'

      new bootstrap.Popover(document.getElementById('popoverButton'))
    </script>
</body>
</html>
